(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{13:function(e,t){e.exports={getNestedVal:function(e,t){return t.reduce((function(e,t,a){return e[t]}),e)},getInnerObj:function(e,t){var a=t.slice(0,t.length-1);return this.getNestedVal(e,a)},setNestedVal:function(e,t,a){return t.reduce((function(e,t,c,n){return c===n.length-1?(e[t]=a,e):e[t]}),e)},generateUIDKey:function(e){for(var t=Math.floor(1e16*Math.random()).toString();e[t];)t=Math.floor(1e16*Math.random()).toString();return t},addPrefix:function(e,t,a){return e()?t:a+t},objectIsEmpty:function(e){return 0===Object.keys(e).length},dot:function(e){for(var t=!1,a=arguments.length,c=new Array(a>1?a-1:0),n=1;n<a;n++)c[n-1]=arguments[n];return c.reduce((function(a,c){return t?e:"undefined"===typeof a[c]||null===a[c]?(t=!0,e):a[c]}))}}},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var c=a(14),n=a(5),s=a(2),r=a(0);function i(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("header",{children:Object(r.jsx)("h1",{children:"Habit Tracker"})}),Object(r.jsxs)("nav",{children:[Object(r.jsx)(n.b,{className:"tab",to:"/habit-tracker/habits",children:"Schedule"}),Object(r.jsx)(n.b,{className:"tab",to:"/habit-tracker/habit-template",children:"Add A Habit"}),Object(r.jsx)(n.b,{className:"tab",to:"/habit-tracker/habit-templates",children:"All My Habits"})]}),Object(r.jsx)(s.b,{}),Object(r.jsx)("footer",{children:Object(r.jsxs)("span",{children:["Explore more projects made by me on ",Object(r.jsx)("a",{href:"https://github.com/syedmwgilani",title:"github",target:"_blank",rel:"noreferrer",children:"Github"}),"."]})})]})}var l=a(3),d=a(6),o=a(7),b=a(9),h=a(8),u=a(1),j=a(13).addPrefix;function O(e){var t=Math.round(e.progress/e.dailyOccurrence*100),a={width:(t<100?t:100)+"%"};return Object(r.jsxs)("div",{className:"inner-bar",style:a,children:[Object(r.jsx)("span",{className:"inner-bar-text-left",children:"+"}),Object(r.jsx)("span",{className:"inner-bar-text-center",children:e.name}),Object(r.jsxs)("span",{className:"inner-bar-text-right",children:[e.progress," / ",e.dailyOccurrence]})]})}function m(e){var t=e.progress>=e.dailyOccurrence?Object(r.jsx)("span",{className:"icon-star-full"}):Object(r.jsx)("span",{});return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"star-container",children:Object(r.jsx)("div",{className:"star-inner-content",children:t})}),Object(r.jsx)("div",{className:"progress-bar",onClick:e.onClick,children:Object(r.jsx)(O,{progress:e.progress,name:e.name,dailyOccurrence:e.dailyOccurrence})}),Object(r.jsx)("div",{className:"decrement-button ml1",onClick:e.onClickDecrement,children:Object(r.jsx)("div",{className:"decrement-inner-button",children:Object(r.jsx)("span",{className:"decrement-inner-button-content",children:"-"})})})]})}var y=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;Object(d.a)(this,a),c=t.call(this,e);var n=new Date,s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()],r=(n.getMonth()+1).toString(),i=n.getDate().toString(),l=n.getFullYear()+"_"+j((function(){return r.length>1}),r,"0")+"_"+j((function(){return i.length>1}),i,"0"),o=j((function(){return r.length>1}),r,"0")+"/"+j((function(){return i.length>1}),i,"0")+"/"+n.getFullYear().toString().substr(-2),b=localStorage.getItem("activeHabitTemplates"),h=JSON.parse(b);console.log("LOADED activeHabitTemp: ",h);var u={};if(h){var O=localStorage.getItem("habits_"+l);if(null===O)u=Object.keys(h).reduce((function(e,t){if(h[t].weeklyOccurrence[s]){var a={};return a.name=h[t].name,a.dailyOccurrence=h[t].dailyOccurrence,a.progress=0,e[t]=a,e}return e}),{});else{var m=JSON.parse(O);u=Object.keys(h).reduce((function(e,t){var a=m[t];return a&&h[t].weeklyOccurrence[s]?(a.name=h[t].name,a.dailyOccurrence=h[t].dailyOccurrence,e[t]=a,e):h[t].weeklyOccurrence[s]?((a={}).name=h[t].name,a.dailyOccurrence=h[t].dailyOccurrence,a.progress=0,e[t]=a,e):e}),{})}}return c.state={dayOfTheWeek:s,dateKeyString:l,dateFormattedString:o,habits:u},console.log("CREATED Habit state: ",c.state),c.saveHabitLocalStorage(),c}return Object(o.a)(a,[{key:"saveHabitLocalStorage",value:function(){var e=JSON.stringify(this.state.habits);localStorage.setItem("habits_"+this.state.dateKeyString,e),console.log("SAVED Habits",e)}},{key:"incrementProgress",value:function(e){console.log("---\nCLICKED habits['".concat(e,"']"));var t=Object(l.a)({},this.state.habits),a=t[e];a.progress=a.progress+1,console.log("UPDATED incremented:",t[e]),this.setState({habits:t},this.saveHabitLocalStorage.bind(this))}},{key:"decrementProgress",value:function(e){console.log("---\nCLICKED habits['".concat(e,"']"));var t=Object(l.a)({},this.state.habits),a=t[e];a.progress=a.progress-1,console.log("UPDATED decremented:",t[e]),this.setState({habits:t},this.saveHabitLocalStorage.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.habits,a=Object.keys(t).map((function(a,c){return Object(r.jsx)("li",{className:"pt1 pb1",children:Object(r.jsx)(m,Object(l.a)(Object(l.a)({},t[a]),{},{onClick:function(t){return e.incrementProgress(a)},onClickDecrement:function(t){return e.decrementProgress(a)}}))},a)})),c=0===a.length?Object(r.jsxs)("p",{className:"pl1",children:["No Habits ",this.state.dateFormattedString," ! Maybe you might want to create a ",Object(r.jsx)(n.b,{to:"/habit-tracker/habit-template",children:"Habit."})]}):Object(r.jsxs)("p",{className:"pl1",children:["Let's see what habits you have for ",this.state.dateFormattedString," !"]});return Object(r.jsxs)("main",{className:"grid-wrapper",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{className:"pb5",children:[Object(r.jsx)("h2",{children:"Schedule:"}),Object(r.jsxs)("span",{className:"pl1",children:[Object(r.jsx)("b",{children:"Today:"})," ",this.state.dayOfTheWeek]}),c,Object(r.jsx)("ul",{children:a})]}),Object(r.jsx)("div",{})]})}}]),a}(u.Component),v=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).state={savingMessage:""},c}return Object(o.a)(a,[{key:"setSaveMessages",value:function(){var e=this;this.setState({savingMessage:"Saving..."},(function(){setTimeout((function(){e.props.endOfSaveFunction()}),1e3)}))}},{key:"render",value:function(){var e=this,t=Object(r.jsx)("button",{className:this.props.className,onClick:function(t){e.setSaveMessages(),e.props.onClick(t)},children:"Save"});return"Saving..."===this.state.savingMessage&&(t=Object(r.jsx)("button",{className:this.props.classNameSaving,children:"Save"})),Object(r.jsxs)("div",{children:[t,Object(r.jsx)("span",{className:"save-message",children:this.state.savingMessage})]})}}]),a}(u.Component);var x=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("b",{children:"Weekly Occurence: "}),Object(r.jsxs)("div",{className:"checkboxes-container",children:[Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"mondayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"mondayId",name:"weeklyOccurrence.Monday",checked:e.Monday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Monday"})]}),Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"tuesdayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"tuesdayId",name:"weeklyOccurrence.Tuesday",checked:e.Tuesday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Tuesday"})]}),Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"wednesdayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"wednesdayId",name:"weeklyOccurrence.Wednesday",checked:e.Wednesday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Wednesday"})]}),Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"thursdayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"thursdayId",name:"weeklyOccurrence.Thursday",checked:e.Thursday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Thursday"})]}),Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"fridayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"fridayId",name:"weeklyOccurrence.Friday",checked:e.Friday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Friday"})]}),Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"saturdayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"saturdayId",name:"weeklyOccurrence.Saturday",checked:e.Saturday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Saturday"})]}),Object(r.jsxs)("label",{className:"checkbox-container",htmlFor:"sundayId",children:[Object(r.jsx)("input",{type:"checkbox",id:"sundayId",name:"weeklyOccurrence.Sunday",checked:e.Sunday,onChange:function(t){return e.onChange(t)}}),Object(r.jsx)("span",{children:"Sunday"})]})]})]})},p=a(13),g=p.setNestedVal,f=p.generateUIDKey,k=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).state={name:"",dailyOccurrence:1,weeklyOccurrence:{Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1,Saturday:!1,Sunday:!1}},c}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;"dailyOccurrence"===t.name&&(a=a<1?1:a);var c=t.name,n=Object(l.a)({},this.state),s=c.split(".");g(n,s,a),this.setState(n)}},{key:"saveStateToLocalStorage",value:function(){var e=this,t=localStorage.getItem("activeHabitTemplates");t||(t=JSON.stringify({}),localStorage.setItem("activeHabitTemplates",t));var a=JSON.parse(t),c=f(a);this.setState({dailyOccurrence:parseInt(this.state.dailyOccurrence)},(function(){a[c]=e.state,localStorage.setItem("activeHabitTemplates",JSON.stringify(a))}))}},{key:"setEmptyState",value:function(){console.log("BEFORE Set Empty State: ",this.state),this.setState({name:"",dailyOccurrence:1,weeklyOccurrence:{Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1,Saturday:!1,Sunday:!1}})}},{key:"render",value:function(){var e=this,t=Object(r.jsx)("div",{className:"validation-text-container",children:Object(r.jsxs)("div",{className:"validation-text",children:["Please Enter a Habit ",Object(r.jsx)("b",{children:"Name"})," and select at least ",Object(r.jsx)("b",{children:"One"})," Weekday."]})}),a=Object.values(this.state.weeklyOccurrence).includes(!0);return""!==this.state.name&&a&&(t=Object(r.jsx)(v,{className:"save-button save-button-add",classNameSaving:"save-button save-button-add save-button-saving",onClick:function(t){return e.saveStateToLocalStorage()},endOfSaveFunction:function(t){return e.setEmptyState()}})),Object(r.jsxs)("main",{className:"grid-wrapper",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{className:"pb5",children:[Object(r.jsx)("h2",{children:"Add a Habit:"}),Object(r.jsx)("div",{className:"pl1 pr1",children:Object(r.jsxs)("label",{htmlFor:"habitNameId",children:[Object(r.jsx)("b",{children:"Name:"}),Object(r.jsx)("input",{type:"text",id:"habitNameId",name:"name",value:this.state.name,onChange:function(t){return e.handleInputChange(t)}})]})}),Object(r.jsx)("div",{className:"mt1 pl1 pr1",children:Object(r.jsx)(x,Object(l.a)(Object(l.a)({},this.state.weeklyOccurrence),{},{onChange:function(t){return e.handleInputChange(t)}}))}),Object(r.jsx)("div",{className:"mt1 pl1 pr1",children:Object(r.jsxs)("label",{htmlFor:"dailyOccurrenceId",children:[Object(r.jsx)("b",{children:"Daily Occurrence:"}),Object(r.jsx)("input",{type:"number",id:"dailyOccurrenceId",name:"dailyOccurrence",value:this.state.dailyOccurrence,onChange:function(t){return e.handleInputChange(t)}})]})}),Object(r.jsx)("div",{className:"button-container",children:t})]}),Object(r.jsx)("div",{})]})}}]),a}(u.Component),S=a(13),N=S.setNestedVal,I=S.dot;function C(e){var t=Object(s.h)();return Object(r.jsx)(v,{className:"save-button save-button-edit",classNameSaving:"save-button save-button-edit save-button-saving",onClick:function(t){return e.onClick()},endOfSaveFunction:function(e){return t("/habit-tracker/habit-templates")}})}function T(e){var t=Object(s.h)();return Object(r.jsx)("button",{className:"cancel-button",onClick:function(e){return t("/habit-tracker/habit-templates")},children:"Cancel"})}var w=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;Object(d.a)(this,a),c=t.call(this,e);var n=window.location.pathname.slice(-16),s=JSON.parse(localStorage.getItem("activeHabitTemplates"))[n];return console.log("habit: ",s),c.state={habitId:n,name:I("",s,"name"),dailyOccurrence:I(1,s,"dailyOccurrence"),weeklyOccurrence:{Monday:I(!1,s,"weeklyOccurrence","Monday"),Tuesday:I(!1,s,"weeklyOccurrence","Tuesday"),Wednesday:I(!1,s,"weeklyOccurrence","Wednesday"),Thursday:I(!1,s,"weeklyOccurrence","Thursday"),Friday:I(!1,s,"weeklyOccurrence","Friday"),Saturday:I(!1,s,"weeklyOccurrence","Saturday"),Sunday:I(!1,s,"weeklyOccurrence","Sunday")}},c}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;"dailyOccurrence"===t.name&&(a=a<1?1:a);var c=t.name,n=Object(l.a)({},this.state),s=c.split(".");N(n,s,a),this.setState(n)}},{key:"saveStateToLocalStorage",value:function(){var e=this,t=localStorage.getItem("activeHabitTemplates"),a=JSON.parse(t);this.setState({dailyOccurrence:parseInt(this.state.dailyOccurrence)},(function(){a[e.state.habitId]=e.state,localStorage.setItem("activeHabitTemplates",JSON.stringify(a))}))}},{key:"render",value:function(){var e=this,t=Object(r.jsx)("div",{className:"validation-text-container",children:Object(r.jsxs)("div",{className:"validation-text",children:["Please Enter a Habit ",Object(r.jsx)("b",{children:"Name"})," and select at least ",Object(r.jsx)("b",{children:"One"})," Weekday."]})}),a=Object.values(this.state.weeklyOccurrence).includes(!0);""!==this.state.name&&a&&(t=Object(r.jsx)(C,{onClick:function(t){return e.saveStateToLocalStorage()}}));var c=Object(r.jsx)("span",{children:"This Habit does not exist. Maybe you might want to go to this page instead"});return""!==this.state.name&&(c=Object(r.jsxs)("main",{className:"grid-wrapper",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{className:"pb5",children:[Object(r.jsx)("h2",{children:"Edit Habit:"}),Object(r.jsx)("div",{className:"pl1 pr1",children:Object(r.jsxs)("label",{htmlFor:"habitNameId",children:[Object(r.jsx)("b",{children:"Name:"}),Object(r.jsx)("input",{type:"text",id:"habitNameId",name:"name",value:this.state.name,onChange:function(t){return e.handleInputChange(t)}})]})}),Object(r.jsx)("div",{className:"mt1 pl1 pr1",children:Object(r.jsx)(x,Object(l.a)(Object(l.a)({},this.state.weeklyOccurrence),{},{onChange:function(t){return e.handleInputChange(t)}}))}),Object(r.jsx)("div",{className:"mt1 pl1 pr1",children:Object(r.jsxs)("label",{htmlFor:"dailyOccurrenceId",children:[Object(r.jsx)("b",{children:"Daily Occurrence:"}),Object(r.jsx)("input",{type:"number",id:"dailyOccurrenceId",name:"dailyOccurrence",value:this.state.dailyOccurrence,onChange:function(t){return e.handleInputChange(t)}})]})}),Object(r.jsxs)("div",{className:"button-container",children:[Object(r.jsx)(T,{}),t]})]}),Object(r.jsx)("div",{})]})),c}}]),a}(u.Component);function H(e){var t=Object(s.h)();return Object(r.jsx)("button",{className:"edit-button",type:"button",id:e.id,onClick:function(){t("/habit-tracker/habit-template-edit-"+e.id)},children:"Edit"})}function F(e){return Object(r.jsx)("div",{className:"inline-block mr1",children:e.day},e.keyVal)}var E=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;Object(d.a)(this,a),c=t.call(this,e);var n=localStorage.getItem("activeHabitTemplates"),s=JSON.parse(n);return c.state={activeHabitTemp:null!==s&&void 0!==s?s:[]},console.log("CREATED HabitTemplates state: ",c.state),c}return Object(o.a)(a,[{key:"saveToLocalStorage",value:function(e){console.log("saveToLocalStorage "+e);var t=JSON.stringify(this.state[e]);localStorage.setItem("activeHabitTemplates",t)}},{key:"handleRemove",value:function(e,t){var a=Object(l.a)({},this.state[t]);console.log("handleRemove for "+t," ID: "+e),console.log("BEFORE DELETE state ",this.state[t]),delete a[e],"activeHabitTemp"===t&&this.setState({activeHabitTemp:a},this.saveToLocalStorage.bind(this,"activeHabitTemp"))}},{key:"render",value:function(){var e=this,t=this.state.activeHabitTemp,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=0===t.length?Object(r.jsxs)("p",{className:"",children:["You have no Habits! Maybe you might want to create a ",Object(r.jsx)(n.b,{to:"/habit-tracker/habit-template",children:"Habit."})]}):Object(r.jsx)("p",{className:"",children:"View all my Habits."}),s=Object.keys(t).map((function(c){return Object(r.jsxs)("li",{className:"mb1",children:[Object(r.jsxs)("div",{className:"mb1",children:[Object(r.jsxs)("b",{children:[t[c].name,": "]}),Object(r.jsxs)("span",{children:[t[c].dailyOccurrence,"x"]})]}),Object(r.jsxs)("div",{className:"pl1",children:[Object(r.jsx)("div",{className:"mb1",children:a.reduce((function(e,a,n){return t[c].weeklyOccurrence[a]&&e.push(Object(r.jsx)(F,{day:a},n)),e}),[])}),Object(r.jsxs)("div",{className:"habit-button-container",children:[Object(r.jsx)("button",{className:"remove-button",type:"button",onClick:function(){return e.handleRemove(c,"activeHabitTemp")},children:"Remove"}),Object(r.jsx)(H,{id:c})]})]})]},c)}));return Object(r.jsxs)("div",{className:"grid-wrapper",children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{className:"pb5",children:[Object(r.jsx)("h2",{children:"All My Habits:"}),Object(r.jsxs)("div",{className:"pl1",children:[c,Object(r.jsx)("ul",{children:s})]})]}),Object(r.jsx)("div",{})]})}}]),a}(u.Component),M=(a(20),document.getElementById("root")),D="habits";sessionStorage.getItem("location")&&(D=sessionStorage.getItem("location"),sessionStorage.removeItem("location")),Object(c.render)(Object(r.jsx)(n.a,{children:Object(r.jsx)(s.e,{children:Object(r.jsxs)(s.c,{path:"/habit-tracker/",element:Object(r.jsx)(i,{}),children:[Object(r.jsx)(s.c,{path:"/habit-tracker/",element:Object(r.jsx)(s.a,{to:"/habit-tracker/"+D})}),Object(r.jsx)(s.c,{path:"habits",element:Object(r.jsx)(y,{})}),Object(r.jsx)(s.c,{path:"habit-template",element:Object(r.jsx)(k,{})}),Object(r.jsx)(s.c,{path:"habit-template-edit-:habitId",element:Object(r.jsx)(w,{})}),Object(r.jsx)(s.c,{path:"habit-templates",element:Object(r.jsx)(E,{})}),Object(r.jsx)(s.c,{path:"*",element:Object(r.jsx)("main",{style:{padding:"1rem",textAlign:"center"},children:Object(r.jsxs)("p",{children:["Sorry you have navigated to a page that does not exist. Try going to the ",Object(r.jsx)(n.b,{to:"/habit-tracker/habits",children:"Habits page"})," instead."]})})})]})})}),M)}},[[21,1,2]]]);
//# sourceMappingURL=main.a21f9519.chunk.js.map