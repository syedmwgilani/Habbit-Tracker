(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{13:function(e,t){e.exports={getNestedVal:function(e,t){return t.reduce((function(e,t,a){return e[t]}),e)},getInnerObj:function(e,t){var a=t.slice(0,t.length-1);return this.getNestedVal(e,a)},setNestedVal:function(e,t,a){return t.reduce((function(e,t,c,n){return c===n.length-1?(e[t]=a,e):e[t]}),e)},generateUIDKey:function(e){for(var t=Math.floor(1e16*Math.random()).toString();e[t];)t=Math.floor(1e16*Math.random()).toString();return t},addPrefix:function(e,t,a){return e()?t:a+t},objectIsEmpty:function(e){return 0===Object.keys(e).length},dot:function(e){for(var t=!1,a=arguments.length,c=new Array(a>1?a-1:0),n=1;n<a;n++)c[n-1]=arguments[n];return c.reduce((function(a,c){return t?e:"undefined"===typeof a[c]||null===a[c]?(t=!0,e):a[c]}))}}},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var c=a(14),n=a(5),r=a(2),s=a(0);function i(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{children:Object(s.jsx)("h1",{children:"Habit Tracker"})}),Object(s.jsxs)("nav",{children:[Object(s.jsx)(n.b,{className:"tab",to:"/habit-tracker/habits",children:"Schedule"}),Object(s.jsx)(n.b,{className:"tab",to:"/habit-tracker/habit-template",children:"Add A Habit"}),Object(s.jsx)(n.b,{className:"tab",to:"/habit-tracker/habit-templates",children:"All My Habits"})]}),Object(s.jsx)(r.a,{}),Object(s.jsx)("footer",{children:Object(s.jsxs)("span",{children:["Explore more projects made by me on ",Object(s.jsx)("a",{href:"https://github.com/syedmwgilani",title:"github",target:"_blank",rel:"noreferrer",children:"Github"}),"."]})})]})}var l=a(4),d=a(6),o=a(7),b=a(9),h=a(8),u=a(1),j=a(13).addPrefix;function O(e){var t=Math.round(e.progress/e.dailyOccurrence*100),a={width:(t<100?t:100)+"%"};return Object(s.jsxs)("div",{className:"inner-bar",style:a,children:[Object(s.jsx)("span",{className:"inner-bar-text-left",children:"+"}),Object(s.jsx)("span",{className:"inner-bar-text-center",children:e.name}),Object(s.jsxs)("span",{className:"inner-bar-text-right",children:[e.progress," / ",e.dailyOccurrence]})]})}function y(e){var t=e.progress>=e.dailyOccurrence?Object(s.jsx)("span",{className:"icon-star-full"}):Object(s.jsx)("span",{});return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"star-container",children:Object(s.jsx)("div",{className:"star-inner-content",children:t})}),Object(s.jsx)("div",{className:"progress-bar",onClick:e.onClick,children:Object(s.jsx)(O,{progress:e.progress,name:e.name,dailyOccurrence:e.dailyOccurrence})}),Object(s.jsx)("div",{className:"decrement-button ml1",onClick:e.onClickDecrement,children:Object(s.jsx)("div",{className:"decrement-inner-button",children:Object(s.jsx)("span",{className:"decrement-inner-button-content",children:"-"})})})]})}var m=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;Object(d.a)(this,a),c=t.call(this,e);var n=new Date,r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()],s=(n.getMonth()+1).toString(),i=n.getDate().toString(),l=n.getFullYear()+"_"+j((function(){return s.length>1}),s,"0")+"_"+j((function(){return i.length>1}),i,"0"),o=j((function(){return s.length>1}),s,"0")+"/"+j((function(){return i.length>1}),i,"0")+"/"+n.getFullYear().toString().substr(-2),b=localStorage.getItem("activeHabitTemplates"),h=JSON.parse(b);console.log("LOADED activeHabitTemp: ",h);var u={};if(h){var O=localStorage.getItem("habits_"+l);if(null===O)u=Object.keys(h).reduce((function(e,t){if(h[t].weeklyOccurrence[r]){var a={};return a.name=h[t].name,a.dailyOccurrence=h[t].dailyOccurrence,a.progress=0,e[t]=a,e}return e}),{});else{var y=JSON.parse(O);u=Object.keys(h).reduce((function(e,t){var a=y[t];return a&&h[t].weeklyOccurrence[r]?(a.name=h[t].name,a.dailyOccurrence=h[t].dailyOccurrence,e[t]=a,e):h[t].weeklyOccurrence[r]?((a={}).name=h[t].name,a.dailyOccurrence=h[t].dailyOccurrence,a.progress=0,e[t]=a,e):e}),{})}}return c.state={dayOfTheWeek:r,dateKeyString:l,dateFormattedString:o,habits:u},console.log("CREATED Habit state: ",c.state),c.saveHabitLocalStorage(),c}return Object(o.a)(a,[{key:"saveHabitLocalStorage",value:function(){var e=JSON.stringify(this.state.habits);localStorage.setItem("habits_"+this.state.dateKeyString,e),console.log("SAVED Habits",e)}},{key:"incrementProgress",value:function(e){console.log("---\nCLICKED habits['".concat(e,"']"));var t=Object(l.a)({},this.state.habits),a=t[e];a.progress=a.progress+1,console.log("UPDATED incremented:",t[e]),this.setState({habits:t},this.saveHabitLocalStorage.bind(this))}},{key:"decrementProgress",value:function(e){console.log("---\nCLICKED habits['".concat(e,"']"));var t=Object(l.a)({},this.state.habits),a=t[e];a.progress=a.progress-1,console.log("UPDATED decremented:",t[e]),this.setState({habits:t},this.saveHabitLocalStorage.bind(this))}},{key:"render",value:function(){var e=this,t=this.state.habits,a=Object.keys(t).map((function(a,c){return Object(s.jsx)("li",{className:"pt1 pb1",children:Object(s.jsx)(y,Object(l.a)(Object(l.a)({},t[a]),{},{onClick:function(t){return e.incrementProgress(a)},onClickDecrement:function(t){return e.decrementProgress(a)}}))},a)}));return Object(s.jsxs)("main",{className:"grid-wrapper",children:[Object(s.jsx)("div",{}),Object(s.jsxs)("div",{className:"pb5",children:[Object(s.jsx)("h2",{children:"Schedule:"}),Object(s.jsxs)("span",{className:"pl1",children:[Object(s.jsx)("b",{children:"Today:"})," ",this.state.dayOfTheWeek," (",this.state.dateFormattedString,")"]}),Object(s.jsx)("p",{className:"pl1",children:"Let's see what habits you have for today!"}),Object(s.jsx)("ul",{children:a})]}),Object(s.jsx)("div",{})]})}}]),a}(u.Component);var x=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Weekly Occurence: "}),Object(s.jsxs)("div",{className:"checkboxes-container",children:[Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"mondayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"mondayId",name:"weeklyOccurrence.Monday",checked:e.Monday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Monday"})]}),Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"tuesdayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"tuesdayId",name:"weeklyOccurrence.Tuesday",checked:e.Tuesday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Tuesday"})]}),Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"wednesdayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"wednesdayId",name:"weeklyOccurrence.Wednesday",checked:e.Wednesday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Wednesday"})]}),Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"thursdayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"thursdayId",name:"weeklyOccurrence.Thursday",checked:e.Thursday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Thursday"})]}),Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"fridayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"fridayId",name:"weeklyOccurrence.Friday",checked:e.Friday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Friday"})]}),Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"saturdayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"saturdayId",name:"weeklyOccurrence.Saturday",checked:e.Saturday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Saturday"})]}),Object(s.jsxs)("label",{className:"checkbox-container",htmlFor:"sundayId",children:[Object(s.jsx)("input",{type:"checkbox",id:"sundayId",name:"weeklyOccurrence.Sunday",checked:e.Sunday,onChange:function(t){return e.onChange(t)}}),Object(s.jsx)("span",{children:"Sunday"})]})]})]})},g=a(13),p=g.setNestedVal,v=g.generateUIDKey,f=g.dot,k=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;return Object(d.a)(this,a),(c=t.call(this,e)).state={name:f("",e,"name"),dailyOccurrence:f(1,e,"dailyOccurrence"),weeklyOccurrence:{Monday:f(!1,e,"weeklyOccurrence","Monday"),Tuesday:f(!1,e,"weeklyOccurrence","Tuesday"),Wednesday:f(!1,e,"weeklyOccurrence","Wednesday"),Thursday:f(!1,e,"weeklyOccurrence","Thursday"),Friday:f(!1,e,"weeklyOccurrence","Friday"),Saturday:f(!1,e,"weeklyOccurrence","Saturday"),Sunday:f(!1,e,"weeklyOccurrence","Sunday")},savingMessage:""},c}return Object(o.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,c=t.name,n=Object(l.a)({},this.state),r=c.split(".");p(n,r,a),this.setState(n)}},{key:"saveStateToLocalStorage",value:function(){var e=this;this.setSaveMessages();var t=localStorage.getItem("activeHabitTemplates");t||(t=JSON.stringify({}),localStorage.setItem("activeHabitTemplates",t));var a=JSON.parse(t),c=v(a);this.setState({dailyOccurrence:parseInt(this.state.dailyOccurrence)},(function(){a[c]=e.state,localStorage.setItem("activeHabitTemplates",JSON.stringify(a))}))}},{key:"setSaveMessages",value:function(){var e=this;this.setState({savingMessage:"Saving..."},(function(){setTimeout((function(){e.setState({savingMessage:"Saved!"},(function(){setTimeout((function(){console.log("Set Empty State",e.state),e.setEmptyState()}),1500)}))}),1500)}))}},{key:"setEmptyState",value:function(){this.setState({name:"",dailyOccurrence:1,weeklyOccurrence:{Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1,Saturday:!1,Sunday:!1},savingMessage:""})}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("main",{className:"grid-wrapper",children:[Object(s.jsx)("div",{}),Object(s.jsxs)("div",{className:"pb5",children:[Object(s.jsx)("h2",{children:"Add a Habit:"}),Object(s.jsx)("div",{className:"pl1 pr1",children:Object(s.jsxs)("label",{htmlFor:"habitNameId",children:[Object(s.jsx)("b",{children:"Name:"}),Object(s.jsx)("input",{type:"text",id:"habitNameId",name:"name",value:this.state.name,onChange:function(t){return e.handleInputChange(t)}})]})}),Object(s.jsx)("div",{className:"mt1 pl1 pr1",children:Object(s.jsx)(x,Object(l.a)(Object(l.a)({},this.state.weeklyOccurrence),{},{onChange:function(t){return e.handleInputChange(t)}}))}),Object(s.jsx)("div",{className:"mt1 pl1 pr1",children:Object(s.jsxs)("label",{htmlFor:"dailyOccurrenceId",children:[Object(s.jsx)("b",{children:"Daily Occurrence:"}),Object(s.jsx)("input",{type:"number",id:"dailyOccurrenceId",name:"dailyOccurrence",value:this.state.dailyOccurrence,onChange:function(t){return e.handleInputChange(t)}})]})}),Object(s.jsxs)("div",{className:"save-button-container",children:[Object(s.jsx)("button",{className:"save-button",onClick:function(t){return e.saveStateToLocalStorage()},children:"Save"}),Object(s.jsx)("span",{className:"save-message",children:this.state.savingMessage})]})]}),Object(s.jsx)("div",{})]})}}]),a}(u.Component);function S(e){return Object(s.jsx)("div",{className:"inline-block mr1",children:e.day},e.keyVal)}var N=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var c;Object(d.a)(this,a),c=t.call(this,e);var n=localStorage.getItem("activeHabitTemplates"),r=JSON.parse(n);return c.state={activeHabitTemp:r},console.log("CREATED HabitTemplates state: ",c.state),c}return Object(o.a)(a,[{key:"saveToLocalStorage",value:function(e){console.log("saveToLocalStorage "+e);var t=JSON.stringify(this.state[e]);localStorage.setItem("activeHabitTemplates",t)}},{key:"handleRemove",value:function(e,t){var a=Object(l.a)({},this.state[t]);console.log("handleRemove for "+t," ID: "+e),console.log("BEFORE DELETE state ",this.state[t]),delete a[e],"activeHabitTemp"===t&&this.setState({activeHabitTemp:a},this.saveToLocalStorage.bind(this,"activeHabitTemp"))}},{key:"render",value:function(){var e=this,t=this.state.activeHabitTemp,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=Object.keys(t).map((function(c){return Object(s.jsxs)("li",{className:"mb1",children:[Object(s.jsxs)("div",{className:"mb1",children:[Object(s.jsxs)("b",{children:[t[c].name,": "]}),Object(s.jsxs)("span",{children:[t[c].dailyOccurrence,"x"]})]}),Object(s.jsxs)("div",{className:"pl1",children:[Object(s.jsx)("div",{className:"mb1",children:a.reduce((function(e,a,n){return t[c].weeklyOccurrence[a]&&e.push(Object(s.jsx)(S,{day:a},n)),e}),[])}),Object(s.jsx)("div",{className:"remove-button-container",children:Object(s.jsx)("button",{className:"remove-button",type:"button",onClick:function(){return e.handleRemove(c,"activeHabitTemp")},children:"Remove"})})]})]},c)}));return Object(s.jsxs)("div",{className:"grid-wrapper",children:[Object(s.jsx)("div",{}),Object(s.jsxs)("div",{className:"pb5",children:[Object(s.jsx)("h2",{children:"All My Habits:"}),Object(s.jsxs)("div",{className:"pl1",children:[Object(s.jsx)("p",{children:"View all my Habits."}),Object(s.jsx)("h4",{children:"Active Habits:"}),Object(s.jsx)("ul",{children:c})]})]}),Object(s.jsx)("div",{})]})}}]),a}(u.Component),T=(a(20),document.getElementById("root"));Object(c.render)(Object(s.jsx)(n.a,{children:Object(s.jsx)(r.d,{children:Object(s.jsxs)(r.b,{path:"/habit-tracker/",element:Object(s.jsx)(i,{}),children:[Object(s.jsx)(r.b,{path:"habits",element:Object(s.jsx)(m,{})}),Object(s.jsx)(r.b,{path:"habit-template",element:Object(s.jsx)(k,{})}),Object(s.jsx)(r.b,{path:"habit-templates",element:Object(s.jsx)(N,{})}),Object(s.jsx)(r.b,{path:"*",element:Object(s.jsx)("main",{style:{padding:"1rem",textAlign:"center"},children:Object(s.jsxs)("p",{children:["Sorry you have navigated to a page that does not exist. Try going to the ",Object(s.jsx)(n.b,{to:"/habit-tracker/habits",children:"Habits page"})," instead."]})})})]})})}),T)}},[[21,1,2]]]);
//# sourceMappingURL=main.987fb3dc.chunk.js.map