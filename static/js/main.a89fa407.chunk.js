(this["webpackJsonphabit-tracker"]=this["webpackJsonphabit-tracker"]||[]).push([[0],{14:function(e,t){e.exports={getNestedVal:function(e,t){return t.reduce((function(e,t,r){return e[t]}),e)},getInnerObj:function(e,t){var r=t.slice(0,t.length-1);return this.getNestedVal(e,r)},setNestedVal:function(e,t,r){return t.reduce((function(e,t,n,c){return n===c.length-1?(e[t]=r,e):e[t]}),e)},generateUIDKey:function(e){for(var t=Math.floor(1e16*Math.random()).toString();e[t];)t=Math.floor(1e16*Math.random()).toString();return t},addPrefix:function(e,t,r){return e()?t:r+t}}},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(2),a=r(4),s=r.n(a),i=r(5),o=r(6),l=r(8),u=r(7),d=r(0),b=r(14).addPrefix;function h(e){var t={width:(e.size<=100?e.size:100)+"%"};return Object(d.jsxs)("div",{className:"bg-blue white",style:t,children:[" ",e.size,"% "]})}function j(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"bg-light-gray",children:Object(d.jsx)(h,{size:e.progress})}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:e.onClick,children:" Click Me "})]})}function O(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:e.name}),Object(d.jsx)(j,{progress:e.progress,onClick:e.onClick}),Object(d.jsxs)("p",{children:["Daily Occurence: ",e.dailyOccurrence]})]})}var g=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var n;Object(i.a)(this,r),n=t.call(this,e);var c=new Date,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.getDay()],s=(c.getMonth()+1).toString(),o=c.getDate().toString(),l=c.getFullYear()+"_"+b((function(){return s.length>1}),s,"0")+"_"+b((function(){return o.length>1}),o,"0"),u=localStorage.getItem("activeHabitTemplates"),d=JSON.parse(u);console.log("LOADED activeHabitTemp: ",d);var h={};if(d){var j=localStorage.getItem("habits_"+l);if(null===j)h=Object.keys(d).reduce((function(e,t){if(d[t].weeklyOccurrence[a]){var r={};return r.name=d[t].name,r.dailyOccurrence=d[t].dailyOccurrence,r.progress=0,e[t]=r,e}return e}),{});else{var O=JSON.parse(j);h=Object.keys(d).reduce((function(e,t){var r=O[t];return r&&d[t].weeklyOccurrence[a]?(r.name=d[t].name,r.dailyOccurrence=d[t].dailyOccurrence,e[t]=r,e):d[t].weeklyOccurrence[a]?((r={}).name=d[t].name,r.dailyOccurrence=d[t].dailyOccurrence,r.progress=0,e[t]=r,e):e}),{})}}return n.state={dayOfTheWeek:a,dateString:l,habits:h},console.log("CREATED Habit state: ",n.state),n.saveHabitLocalStorage(),n}return Object(o.a)(r,[{key:"saveHabitLocalStorage",value:function(){var e=JSON.stringify(this.state.habits);localStorage.setItem("habits_"+this.state.dateString,e),console.log("SAVED Habits",e)}},{key:"incrementProgress",value:function(e){console.log("---\nCLICKED habits['".concat(e,"']"));var t=Object(n.a)({},this.state.habits),r=t[e],c=100/r.dailyOccurrence;r.progress=r.progress+c,console.log("UPDATED ",t[e]),this.setState({habits:t},this.saveHabitLocalStorage.bind(this))}},{key:"render",value:function(e){var t=this,r=Object(n.a)({},this.state.habits),c=Object.keys(r).map((function(e,c){return Object(d.jsx)("li",{children:Object(d.jsx)(O,Object(n.a)(Object(n.a)({},r[e]),{},{onClick:function(r){return t.incrementProgress(e)}}))},e)}));return Object(d.jsxs)("main",{className:"wrapper",children:[Object(d.jsx)("div",{className:"margin1"}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("p",{children:this.state.dayOfTheWeek}),Object(d.jsx)("ul",{children:c})]}),Object(d.jsx)("div",{className:"margin2"})]})}}]),r}(c.Component);r(15);s.a.render(Object(d.jsx)(g,Object(n.a)({},{})),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a89fa407.chunk.js.map